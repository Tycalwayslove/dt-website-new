import{y as B,aG as F,r as c,c as C,m as V,n as A,U as D,f as ae,z as i,A as g,Q as N,B as M,D as x,M as ne,a4 as $,E as U,R as W,u as P,I as le,ac as q}from"./vendor-976643fc.js";import{_ as re}from"./index-86c4fbab.js";const se=["aria-label"],ie=["aria-hidden"],ce=["href","aria-label"],ue=B({__name:"LogoLoop",props:{logos:{},speed:{default:120},direction:{default:"left"},width:{default:"100%"},logoHeight:{default:60},gap:{default:32},pauseOnHover:{type:Boolean,default:!0},fadeOut:{type:Boolean,default:!1},fadeOutColor:{},scaleOnHover:{type:Boolean,default:!1},ariaLabel:{default:"Partner logos"},className:{},style:{}},setup(u){const m={SMOOTH_TAU:.25,MIN_COPIES:2,COPY_HEADROOM:2},o=u,v=F("containerRef"),O=F("trackRef"),s=c(null),l=c(0),_=c(m.MIN_COPIES),k=c(!1);let H=null,w=null;const b=c(0),R=c(0),j=C(()=>{const e=Math.abs(o.speed),n=o.direction==="left"?1:-1,a=o.speed<0?-1:1;return e*n*a}),G=C(()=>({"--logoloop-gap":`${o.gap}px`,"--logoloop-logoHeight":`${o.logoHeight}px`,...o.fadeOutColor&&{"--logoloop-fadeColor":o.fadeOutColor}})),Y=C(()=>{const e=["relative overflow-x-hidden group","[--logoloop-gap:32px]","[--logoloop-logoHeight:28px]","[--logoloop-fadeColorAuto:#ffffff]","dark:[--logoloop-fadeColorAuto:#0b0b0b]"];return o.scaleOnHover&&e.push("py-[calc(var(--logoloop-logoHeight)*0.1)]"),o.className&&e.push(o.className),e}),Q=C(()=>({width:typeof o.width=="number"?`${o.width}px`:o.width,...G.value,...typeof o.style=="object"&&o.style!==null?o.style:{}})),S=e=>"node"in e,X=e=>S(e)?e.ariaLabel??e.title:e.alt??e.title,T=B({name:"LogoContent",props:{item:{type:Object,required:!0},scaleOnHover:{type:Boolean,default:!1}},setup(e){return()=>{const n=["inline-flex items-center","motion-reduce:transition-none"];if(e.scaleOnHover&&n.push("transition-transform duration-300 ease-[cubic-bezier(0.4,0,0.2,1)] group-hover/item:scale-120"),S(e.item))return q("span",{class:[...n,"text-[length:var(--logoloop-logoHeight)] [&>i]:text-[length:var(--logoloop-logoHeight)] [&>i]:leading-[1]"],innerHTML:e.item.node,"aria-hidden":!!e.item.href&&!e.item.ariaLabel});{const a=["h-[var(--logoloop-logoHeight)] w-auto block object-contain","[-webkit-user-drag:none] pointer-events-none","[image-rendering:-webkit-optimize-contrast]","motion-reduce:transition-none"];e.scaleOnHover&&a.push("transition-transform duration-300 ease-[cubic-bezier(0.4,0,0.2,1)] group-hover/item:scale-120");const t=e.item;return q("img",{class:a,src:t.src,srcset:t.srcSet,sizes:t.sizes,width:t.width,height:t.height,alt:t.alt??"",title:t.title,loading:"lazy",decoding:"async",draggable:!1})}}}}),J=()=>{o.pauseOnHover&&(k.value=!0)},K=()=>{o.pauseOnHover&&(k.value=!1)},y=async()=>{var a,t,r,f;await A();const e=((a=v.value)==null?void 0:a.clientWidth)??0,n=((f=(r=(t=s.value)==null?void 0:t.getBoundingClientRect)==null?void 0:r.call(t))==null?void 0:f.width)??0;if(n>0){l.value=Math.ceil(n);const z=Math.ceil(e/n)+m.COPY_HEADROOM;_.value=Math.max(m.MIN_COPIES,z),h==null||h(),h=ee()}};let p=null;const Z=()=>{if(!window.ResizeObserver){const e=()=>y();return window.addEventListener("resize",e),y(),()=>window.removeEventListener("resize",e)}return p=new ResizeObserver(y),v.value&&p.observe(v.value),s.value&&p.observe(s.value),y(),()=>{p==null||p.disconnect(),p=null}},I=()=>{var t;const e=((t=s.value)==null?void 0:t.querySelectorAll("img"))??[];if(e.length===0){y();return}let n=e.length;const a=()=>{n-=1,n===0&&y()};return e.forEach(r=>{const f=r;f.complete?a():(f.addEventListener("load",a,{once:!0}),f.addEventListener("error",a,{once:!0}))}),()=>{e.forEach(r=>{r.removeEventListener("load",a),r.removeEventListener("error",a)})}},ee=()=>{const e=O.value;if(!e)return;const n=typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(l.value>0&&(b.value=(b.value%l.value+l.value)%l.value,e.style.transform=`translate3d(${-b.value}px, 0, 0)`),n)return e.style.transform="translate3d(0, 0, 0)",()=>{w=null};const a=t=>{w===null&&(w=t);const r=Math.max(0,t-w)/1e3;w=t;const f=o.pauseOnHover&&k.value?0:j.value,z=1-Math.exp(-r/m.SMOOTH_TAU);if(R.value+=(f-R.value)*z,l.value>0){let E=b.value+R.value*r;E=(E%l.value+l.value)%l.value,b.value=E;const oe=-b.value;e.style.transform=`translate3d(${oe}px, 0, 0)`}H=requestAnimationFrame(a)};return H=requestAnimationFrame(a),()=>{H!==null&&(cancelAnimationFrame(H),H=null),w=null}};let L,d,h;const te=()=>{L==null||L(),d==null||d(),h==null||h()};return V(async()=>{await A(),setTimeout(()=>{L=Z(),d=I()},10)}),D(()=>{te()}),ae([()=>o.logos,()=>o.gap,()=>o.logoHeight],async()=>{await A(),d==null||d(),d=I()},{deep:!0}),(e,n)=>(i(),g("div",{ref_key:"containerRef",ref:v,class:x(Y.value),style:U(Q.value),role:"region","aria-label":u.ariaLabel,onMouseenter:J,onMouseleave:K},[u.fadeOut?(i(),g(N,{key:0},[n[0]||(n[0]=M("div",{"aria-hidden":"",class:x(["pointer-events-none absolute inset-y-0 left-0 z-[1]","w-[clamp(24px,8%,120px)]","bg-[linear-gradient(to_right,var(--logoloop-fadeColor,var(--logoloop-fadeColorAuto))_0%,rgba(0,0,0,0)_100%)]"])},null,-1)),n[1]||(n[1]=M("div",{"aria-hidden":"",class:x(["pointer-events-none absolute inset-y-0 right-0 z-[1]","w-[clamp(24px,8%,120px)]","bg-[linear-gradient(to_left,var(--logoloop-fadeColor,var(--logoloop-fadeColorAuto))_0%,rgba(0,0,0,0)_100%)]"])},null,-1))],64)):ne("",!0),M("div",{ref_key:"trackRef",ref:O,class:x(["flex w-max will-change-transform select-none","motion-reduce:transform-none"])},[(i(!0),g(N,null,$(_.value,a=>(i(),g("ul",{key:`copy-${a-1}`,class:"flex items-center",role:"list","aria-hidden":a>1,ref_for:!0,ref:t=>{a===1&&(s.value=t)}},[(i(!0),g(N,null,$(u.logos,(t,r)=>(i(),g("li",{key:`${a-1}-${r}`,class:x(["flex-none mr-[var(--logoloop-gap)] text-[length:var(--logoloop-logoHeight)] leading-[1]",u.scaleOnHover&&"overflow-visible group/item"]),role:"listitem"},[t.href?(i(),g("a",{key:0,class:x(["inline-flex items-center no-underline rounded","transition-opacity duration-200 ease-linear","hover:opacity-80","focus-visible:outline focus-visible:outline-current focus-visible:outline-offset-2"]),href:t.href,"aria-label":X(t)||"logo link",target:"_blank",rel:"noreferrer noopener"},[W(P(T),{item:t,"scale-on-hover":u.scaleOnHover},null,8,["item","scale-on-hover"])],8,ce)):(i(),le(P(T),{key:1,item:t,"scale-on-hover":u.scaleOnHover},null,8,["item","scale-on-hover"]))],2))),128))],8,ie))),128))],512)],46,se))}}),de={class:"bg-[#393A52FF] pt-20 lg:pt-30 pb-15 lg:pb-30 w-full"},fe=B({__name:"MiaowuSelectedBrandPartners",setup(u){const m=[{src:"/src/assets/img/partner-01.png",alt:"Logo 1"},{src:"/src/assets/img/partner-02.png",alt:"Logo 2"},{src:"/src/assets/img/partner-03.png",alt:"Logo 3"},{src:"/src/assets/img/partner-04.png",alt:"Logo 4"}],o=c(30),v=c(40),O=c(110),s=()=>{if(typeof window>"u"||!window.matchMedia)return;const l=window.matchMedia("(min-width: 1024px)").matches;o.value=l?75:30,v.value=l?100:40,O.value=l?150:110};return V(()=>{s(),window.addEventListener("resize",s)}),D(()=>{window.removeEventListener("resize",s)}),(l,_)=>(i(),g("div",de,[_[0]||(_[0]=M("h2",{class:"text-[28px] lg:text-[56px] font-bold text-center text-white"}," 喵呜严选品牌合作伙伴 ",-1)),M("div",{class:"w-full max-w-[1920px] mx-auto",style:U({height:O.value+"px",position:"relative",overflow:"hidden",marginTop:"40px"})},[W(ue,{logos:m,speed:20,direction:"left",logoHeight:o.value,gap:v.value,pauseOnHover:!0,scaleOnHover:!0,fadeOut:!0,fadeOutColor:"#393A52FF",ariaLabel:"miaowu partners"},null,8,["logoHeight","gap"])],4)]))}});const pe=re(fe,[["__scopeId","data-v-aca64364"]]);export{pe as M,ue as _};
